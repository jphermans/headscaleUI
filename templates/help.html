{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1 class="mb-4">HeadscaleUI Help Documentation</h1>
    
    <div class="card mb-4">
        <div class="card-header">
            <h2 class="h4 mb-0">üîë Login & Authentication</h2>
        </div>
        <div class="card-body">
            <h3 class="h5">Creating a Login Key</h3>
            <ol>
                <li>Access your Headscale server terminal</li>
                <li>Run the command:
                    <div class="bg-light p-2 rounded mt-1 mb-1">
                        <code>headscale apikey create --expiration 8760h</code>
                    </div>
                </li>
                <li>Copy the generated key and use it to log in to HeadscaleUI</li>
            </ol>
            
            <h3 class="h5">API Keys Management</h3>
            <ul>
                <li>Generate API keys with different validity periods (10 years to 1 day)</li>
                <li>Save your API key immediately after generation - it won't be shown again</li>
                <li>You cannot delete the API key you're currently using</li>
                <li>Deleting an API key is permanent and cannot be undone</li>
                <li>API keys are identified by their prefix (e.g., 'rIcg8v3')</li>
            </ul>

            <h3 class="h5">Validity Periods</h3>
            <p>When creating an API key, you can specify different validity periods:</p>
            <ul>
                <li>24h = 1 day</li>
                <li>168h = 7 days</li>
                <li>720h = 30 days</li>
                <li>8760h = 1 year (recommended)</li>
                <li>87600h = 10 years</li>
            </ul>

            <div class="alert alert-warning">
                <i class="fas fa-shield-alt"></i>
                <strong>Security Note:</strong> Store your API key securely and never share it. The key provides full access to your Headscale server.
            </div>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-header">
            <h2 class="h4 mb-0">üë• Managing Users</h2>
        </div>
        <div class="card-body">
            <h3 class="h5">Adding a User</h3>
            <ol>
                <li>Go to the "Users" page</li>
                <li>Enter a username in the "Username" field</li>
                <li>Click "Add User"</li>
            </ol>
            
            <h3 class="h5">User Management Rules</h3>
            <ul>
                <li>Create users to organize your nodes</li>
                <li>Users can't be deleted if they have associated nodes</li>
                <li>User names must be unique</li>
            </ul>

            <h3 class="h5">Deleting a User</h3>
            <ol>
                <li>Go to the "Users" page</li>
                <li>Find the user you want to delete</li>
                <li>Click the delete button next to the user</li>
                <li><strong>Note:</strong> You must remove all nodes from a user before deletion</li>
            </ol>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-header">
            <h2 class="h4 mb-0">üíª Managing Nodes</h2>
        </div>
        <div class="card-body">
            <h3 class="h5">Adding a Node</h3>
            <ol>
                <li>Go to the "Nodes" page</li>
                <li>Enter a node name</li>
                <li>Select a user to assign the node to</li>
                <li>Click "Add Node"</li>
            </ol>
            
            <h3 class="h5">Node Management Rules</h3>
            <ul>
                <li>Nodes must be assigned to a user</li>
                <li>Node names must be unique within a user</li>
                <li>You can delete nodes at any time</li>
            </ul>

            <h3 class="h5">Deleting a Node</h3>
            <ol>
                <li>Go to the "Nodes" page</li>
                <li>Find the node you want to delete</li>
                <li>Click the delete button next to the node</li>
            </ol>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h2 class="h4 mb-0">‚öôÔ∏è Session Management</h2>
        </div>
        <div class="card-body">
            <h3 class="h5">Session Rules</h3>
            <ul>
                <li>Sessions expire after 12 hours</li>
                <li>You'll be automatically logged out if your API key expires or is deleted</li>
                <li>Use the logout button to end your session manually</li>
                <li>For security, create a new API key if you suspect your current one is compromised</li>
            </ul>

            <div class="alert alert-info">
                <i class="fas fa-info-circle"></i>
                <strong>Tip:</strong> For better security, use shorter validity periods for API keys and rotate them regularly.
            </div>
        </div>
    </div>
</div>
{% endblock %} 